(()=>{"use strict";class e{_chainId="0x1";_eventSubscriptions={};_requestId=0;async backgroundRPC(e){const n=this._requestId++;return new Promise(((t,i)=>{let o=!1;document.addEventListener("LayerzWalletExtension",(function(e){if(o)return;const c=JSON.parse(e.detail);if("webpage"===c.for&&Number(c.id)===n){if(o=!0,c.error)return console.log("rejecting promise.................. error=",c.error),void i(c.error);console.log("resolving promise.................. response=",c.response),t(c.response)}}));const c={...e,for:"contentScript",id:n,from:window.location.hostname};document.dispatchEvent(new CustomEvent("LayerzWalletExtension",{detail:JSON.stringify(c)}))}))}request=e=>this.backgroundRPC(e);constructor(){const e=this;console.log("setting up a listener for callback events::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::"),document.addEventListener("LayerzWalletExtension",(function(n){const t=JSON.parse(n.detail);if("eventCallback"!==t.type)return;console.log("got event callback!",t);const i=e._eventSubscriptions[t.event]??[];console.log("we have",i.length,"to notify");for(const e of i)console.log("actually triggering the callback with the event payload"),e(t.arg)}))}on(e,n){return console.log("Dapp subscribes to an event",e),"connect"===e?(setTimeout((()=>n({chainId:this._chainId})),1e3),this):(this._eventSubscriptions[e]=this._eventSubscriptions[e]||[],this._eventSubscriptions[e].push(n),this)}removeListener(){}send(e,n){return e.method?this.request(e):"string"==typeof e?this.request({method:e,params:n}):void 0}sendAsync(e,n){}_metamask={isUnlocked:function(){return Promise.resolve(!0)}};get chainId(){return this._chainId}isMetaMask=!0;networkVersion="?";selectedAddress="???";enable(){return alert("enable"),Promise.resolve([])}isConnected(){return!0}_events={};_eventsCount=0;_maxListeners=0;_log={};_state={};_handleAccountsChanged=()=>{};_handleConnect=()=>{};_handleChainChanged=()=>{};_handleDisconnect=()=>{};_handleUnlockStateChanged=()=>{};_rpcRequest=()=>{};_rpcEngine={};_handleStreamDisconnect=()=>{};_jsonRpcConnection={};_sentWarnings={};_sendSync=()=>{};_warnOfDeprecation=()=>{}}window.ethereum=new e;const n="6c617965-727a-7761-6C6C-657400000000";document.addEventListener("LayerzWalletExtension",(async function(e){"contentScript"===JSON.parse(e.detail).for&&window.ReactNativeWebView.postMessage(e.detail)})),window.addEventListener("load",(function(){const t=new e;function i(){console.log("announceProvider()");const e={uuid:n,name:"Layerz Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg2IiBoZWlnaHQ9IjE2NiIgdmlld0JveD0iMCAwIDE4NiAxNjYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODYiIGhlaWdodD0iMTY2IiBmaWxsPSIjMDAwMDAwIi8+CjxwYXRoIGQ9Ik05Ni42NTU0IDEwMC42NDJIMjMuNTIyM0MxNy4zODg4IDEwMC42NDIgMTQuMjg5MSA5My4yNTkgMTguNTcyMyA4OC44ODJMNjMuMjA3MyA0My4yNTEyQzY3LjU2NTYgMzguNzk5IDczLjUzMDEgMzYuMjkxIDc5Ljc1NzYgMzYuMjkxSDE1Mi44OTFDMTU5LjAyNCAzNi4yOTEgMTYyLjEyNCA0My42NzM5IDE1Ny44NDEgNDguMDUwOUwxMTMuMjA2IDkzLjY4MTdDMTA4Ljg0NyA5OC4xMzM5IDEwMi44ODMgMTAwLjY0MiA5Ni42NTU0IDEwMC42NDJaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMl8zMzMyKSIvPgo8cGF0aCBkPSJNODkuNDY5NSA2NS4zNTc3SDE2Mi42MDNDMTY4LjczNiA2NS4zNTc3IDE3MS44MzYgNzIuNzQwNSAxNjcuNTUzIDc3LjExNzZMMTIyLjkxOCAxMjIuNzQ4QzExOC41NTkgMTI3LjIgMTEyLjU5NSAxMjkuNzA4IDEwNi4zNjcgMTI5LjcwOEgzMy4yMzQzQzI3LjEwMDcgMTI5LjcwOCAyNC4wMDEgMTIyLjMyNiAyOC4yODQyIDExNy45NDhMNzIuOTE5MiA3Mi4zMTc4Qzc3LjI3NzUgNjcuODY1NiA4My4yNDIgNjUuMzU3NyA4OS40Njk1IDY1LjM1NzdaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfMl8zMzMyKSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzJfMzMzMiIgeDE9IjE2LjY2MzgiIHkxPSIxMDAiIHgyPSIxNjAuMjA1IiB5Mj0iNDAuOTYzMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwIi8+CjxzdG9wIG9mZnNldD0iMC44NSIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzJfMzMzMiIgeDE9IjE2OS45MDciIHkxPSI2NS44MzEiIHgyPSIyNi4zNjY0IiB5Mj0iMTI0Ljg2OCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSJ3aGl0ZSIgc3RvcC1vcGFjaXR5PSIwIi8+CjxzdG9wIG9mZnNldD0iMC44NSIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K",rdns:"com.layerzwallet.layerzwallet"},i=Object.freeze({info:e,provider:t});window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:i}))}t.signer={uri:n},window.addEventListener("eip6963:requestProvider",(e=>{console.log("Received EIP-6963 provider request"),i()})),i(),console.log("announceProvider() done")}))})();
true
