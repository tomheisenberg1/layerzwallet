# Testplan:
# - restore the wallet
# - check all the networks have no null balance

appId: com.layerzwallet.mobile
jsEngine: graaljs
---
- runFlow:
    file: subflows/wallet-restore.yml
    env:
      MNEMONIC: ${MAESTRO_TEST_MNEMONIC}

# run for some networks (where we have non-zero balance)
- evalScript: ${output.networks = ['bitcoin', 'spark']} # 'rootstock'
- repeat:
    while:
      true: ${output.networks.length > 0}
    commands:
      # switch to the next network
      - runFlow:
          file: subflows/network-switch.yml
          env:
            NETWORK: ${output.networks.shift()}
      # wait for the balance to load
      - assertVisible:
          id: 'LayerBalance'
      - extendedWaitUntil:
          notVisible: '???'
          timeout: 60000
